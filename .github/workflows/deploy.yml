     name: Déployer sur o2switch

     on:
       push:
         branches: [ main ]

     jobs:
       build:
         runs-on: ubuntu-latest
         steps:
           - uses: actions/checkout@v4

           - name: Installer PNPM
             uses: pnpm/action-setup@v4

           - name: Utiliser Node.js
             uses: actions/setup-node@v4
             with:
               node-version: '20'
               cache: 'pnpm'

           - name: Installer les dépendances
             run: pnpm install

           - name: Construire le projet
             run: pnpm run build

           - name: Générer les fichiers statiques
             run: pnpm run generate

       deploy:
         needs: build
         runs-on: ubuntu-latest
         steps:
           - name: Déployer sur o2switch via FTP
             uses: SamKirkland/FTP-Deploy-Action@v4.3.5
             with:
               server: ${{ secrets.HOST }}
               username: ${{ secrets.USERNAME }}
               password: ${{ secrets.PASSWORD }}
               server-dir: /public_html
               local-dir: ./dist
